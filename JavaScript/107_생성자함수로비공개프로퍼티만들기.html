<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documents</title>
</head>

<body>
    <script>
        // 모듈 사용자 정의 혼합 패턴
        function Person() {
            let age = 30; // 비공개 프로퍼티로 

            function innerPerson() {}

            innerPerson.prototype.getAge = function () {
                return age;
            }

            return innerPerson;
        }

        const PersonFunc = Person(); // Person은 생성자 함수로 innerPerson 이 반환되어 변수에 저장되고 함수는 사라짐 -> age 변수가 사라지니까 접근 불가능

        const person = new PersonFunc();


        // IIFE를 이용한 모듈 사용자 정의 혼합패턴
        const NewPerson = (
            function () {
                let age = 30;

                function innerPerson() {}

                innerPerson.prototype.getAge = function () {
                    return age;
                }

                return innerPerson;
            }
        )()

        const personWithSecret = new NewPerson();

        // 변수에 할당됨과 동시에 함수 실행되어 생성자 함수가 반환되어 변수에 저장
        // const PersonFunc = Person(); 과정을 생략하게 된 것!
    </script>
</body>

</html>